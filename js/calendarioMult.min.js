function calendarioMult(a){if(a.obj)if(""!=a.obj){if(clase=a.obj,a.cant&&a.cant?cant=a.cant:cant=12,a.mes)if(""!=a.mes)mes=a.mes;else{var e=(new Date).getMonth();mes=e+1}else{e=(new Date).getMonth();mes=e+1}if(a.year)if(""!=a.year)i=a.year;else var i=(new Date).getFullYear();else i=(new Date).getFullYear();a.idioma&&""!=a.idioma?idioma=a.idioma:idioma="ES_es",a.dir&&""!=a.dir?(dir=a.dir,$(clase).html(""),$.getJSON(dir+idioma+".json",function(a){var e=a.meses,l=a.dsemana;for(text="",yearp=i,ms=0;ms<cant;ms++){for(m=mes+ms,m>12&&(yearp=i+Math.floor(m/12),m-=12*Math.floor(m/12),0==m&&(m=12,yearp-=1)),mr=m-1,fecha=new Date(yearp,mr,1,10,33,30,0),sdia=fecha.getDay(),udia=27,u=udia;u<=31;u++)1==existeFecha(u+"/"+m+"/"+yearp)&&(udia=u);for(semanario='<table class="semanario">',semanario+='<tr><th onClick="calDias(0,'+m+","+yearp+')">'+l[0]+'</th><th onClick="calDias(1,'+m+","+yearp+')">'+l[1]+'</th><th onClick="calDias(2,'+m+","+yearp+')">'+l[2]+'</th><th onClick="calDias(3,'+m+","+yearp+')">'+l[3]+'</th><th onClick="calDias(4,'+m+","+yearp+')">'+l[4]+'</th><th onClick="calDias(5,'+m+","+yearp+')">'+l[5]+'</th><th onClick="calDias(6,'+m+","+yearp+')">'+l[6]+"</th></tr>",t=0,d=1;d<=udia;d++)for(q=0,me=m,m<10&&(me="0"+m),di=d,d<10&&(di="0"+d),s=0;s<=6;s++)0==q&&(1==d&&s==sdia?(0==s&&(t++,semanario+="<tr>"),semanario+='<td class="calAvailable" id="cal_'+d+"_"+m+"_"+yearp+"_"+s+'" data-fecha="'+yearp+"-"+me+"-"+di+'" onClick="calAvailable(this);">'+d+"</td>",q=1):d>1&&s==sdia?(0==s&&(t++,semanario+="<tr>"),semanario+='<td class="calAvailable" id="cal_'+d+"_"+m+"_"+yearp+"_"+s+'" data-fecha="'+yearp+"-"+me+"-"+di+'" onClick="calAvailable(this);">'+d+"</td>",q=1):1==d&&(0==s&&(t++,semanario+="<tr>"),semanario+="<td></td>"),6==s&&(semanario+="</tr>"),s==sdia&&(sdia++,6==s&&(sdia=0)));5==t&&(semanario+="<tr><td></td></tr>"),semanario+="</table>",text+='<div class="col-md-4"><div class="card"><div class="card-header"><h3 class="card-title"><b>'+e[m]+" "+yearp+'</b></h3></div><div class="card-body">'+semanario+"</div></div></div>"}$(clase).html('<div class="row">'+text+"</div>")})):console.error("Debe colocar la ruta del elemento JS de calendarioMult")}else console.error("Debe colocar el id o la clase del elemento contenedor");else console.error("Debe colocar el id o la clase del elemento contenedor")}function existeFecha(a){var e=a.split("/"),i=e[0],l=e[1],t=e[2];return!(i-0>new Date(t,l,"0").getDate()-0)}function calAvailable(a){if(id=a.id,fecha=a.dataset.fecha,$("#"+id).hasClass("calActive")){$("#"+id).removeClass("calActive");var e=fechascalendarioMulti.indexOf(fecha);fechascalendarioMulti.splice(e,1)}else $("#"+id).addClass("calActive"),fechascalendarioMulti.push(fecha)}function calMult_getData(){return fechascalendarioMulti.sort()}function calDias(a,e,i){for(d=0;d<=31;d++)document.getElementById("cal_"+d+"_"+e+"_"+i+"_"+a)&&calAvailable(document.getElementById("cal_"+d+"_"+e+"_"+i+"_"+a))}fechascalendarioMulti=[];